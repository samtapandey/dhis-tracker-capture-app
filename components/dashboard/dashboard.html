<!-- For Intpart -->
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>

<style>
    table {
        border-collapse: separate;
        empty-cells: hide;
    }
</style>
</head>


<script type="text/ng-template" id="program-selector">

    <div>
        <button ng-disabled="!previousTeiExists" type="button"
        class="btn btn-default small-horizontal-spacing" ng-click="fetchTei('PREV')"
        ng-attr-title="{{'previous'| translate}}" style="margin-bottom:3px"><i class="fa fa-caret-left"></i></button>

        <button ng-disabled="!nextTeiExists" type="button" class="btn btn-default small-horizontal-spacing"
                ng-click="fetchTei('NEXT')" ng-attr-title="{{'next'| translate}}" style="margin-bottom:3px"><i class="fa fa-caret-right"></i>
        </button>
        <ui-select ng-model="selectedProgram"
                   theme="select2"
                   ng-disabled="programs.length < 1"
                   on-select="applySelectedProgram(selectedProgram)"
                   style="margin-top:0px;margin-bottom:3px;width:50%">
            <ui-select-match allow-clear="true"
                             class="form-control-ui-select program-select"
                             ng-attr-placeholder="{{'select_or_search' | translate}}">
                <img class="icon-program-left" ng-style="{'background-color': ($select.selected.style.color ? $select.selected.style.color : '#E0E0E0')}" ng-src="{{APIURL}}/icons/{{$select.selected.style.icon ? $select.selected.style.icon : 'clinical_fe_outline'}}/icon.svg"/>{{$select.selected.displayName  || $select.selected}}
            </ui-select-match>
            <ui-select-choices  repeat="program in programs | filter:{displayName:$select.search} | limitTo:maxOptionSize">
                <span><img class="icon-program-left" ng-style="{'background-color': (program.style.color ? program.style.color : '#E0E0E0')}" ng-src="{{APIURL}}/icons/{{program.style.icon ? program.style.icon : 'clinical_fe_outline'}}/icon.svg"/><span ng-bind-html="program.displayName | highlight: $select.search"></span></span>
            </ui-select-choices>
        </ui-select>
    </div>
</script>
<div class="audit-overlay" style="position: fixed;background-color: white;width:100%;height: 100%;" ng-hide="hasAccess">
</div>

<div class="container-1-1" ng-show="hasAccess">
<div>
   <marquee><div id="marq"></div></marquee>
        </div>
    <!-- dashboard widgets begin -->
    <div class="col-sm-12" ng-if="metaDataCached" ng-show="hasAccess">
        <div class="row" ng-class="{'dashboard-top-bar-sticky' : topBarConfig.settings && topBarConfig.settings.active}" height-change-source>
            <div style="display:flex;margin-left:15px;" class="vertical-spacing">
                <div><button type="button" class="btn btn-default remove-focus-effects" ng-click="back()">
                        {{getBackButtonText()}}
                    </button>
                </div>
                
                <div ng-include="'program-selector'" ng-if="!topBarConfig.settings || !topBarConfig.settings.active" style="flex: 1 100%;"></div>
                <div ng-include="'components/topbar/topbar.html'" ng-style="{'flex' : (topBarConfig.settings && topBarConfig.settings.active) ? '1 100%' : '0'}"></div>
                <div ng-class="topbarRightSizeClass" style="width:150px; display:flex;">
                    <button type="button"
                            ng-attr-title="{{model.stickyDisabled ? stickLabel : unstickLabel}}"
                            ng-show="(dashboardWidgets | filter: {parent: 'smallerWidget', show: true}).length > 0"
                            class="btn btn-default dashboard-info-btn-right-size"
                            ng-class="{true: 'stick', false: 'unstick'} [!model.stickyDisabled]"
                            ng-click="model.stickyDisabled = !model.stickyDisabled"
                            style="height: 35px;">
                        <i class="fa fa-thumb-tack"></i>
                    </button>
                 
                    
				   <div class="btn-group trim" ng-if="showManageTeiDropdown()">
                        <button type="button" ng-attr-title="{{'manage' | translate}} {{trackedEntityType.displayName}}" class="btn btn-danger dropdown-toggle" ng-disabled="selectedOrgUnit.closedStatus" data-toggle="dropdown" style="height: 35px;">
                            <i class="fa fa-exclamation-circle"></i>
                        </button>
                        <ul class="dropdown-menu pull-right" role="menu">                            
                            <li><a href ng-click="activiateTEI()">{{selectedTei.inactive ? 'activate' : 'deactivate' | translate}} {{trackedEntityType.displayName}}</a></li>
                            <li><a href ng-click="deleteTEI()">{{'delete' | translate}} {{trackedEntityType.displayName}}</a></li>
                        </ul>
                    </div>
                    
                    <div class="btn-group trim">
                        <button type="button" ng-attr-title="{{settingsLabel}}" class="btn btn-default dropdown-toggle" data-toggle="dropdown" style="height: 35px;">
                            <i class="fa fa-cog"></i>
                        </button>
                        <ul class="dropdown-menu pull-right" role="menu">
                            <li><a href ng-click="showHideWidgets()">{{showHideWidgetsLabel}}</a></li>
                            <li ng-if="userAuthority.canAdministerDashboard"><a href ng-click="saveDashboarLayoutAsDefault()">{{'save_layout_as_default' | translate}}</a></li>
                            <li><a href ng-click="openTopBarSettings()">Top bar settings</a></li>
                            <li ng-if="userAuthority.canAdministerDashboard && lockedList && !lockedList[selectedProgram.id]"><a href ng-click="toggleLockDashboard()"><i class="fa fa-lock" aria-hidden="true"></i> {{'lock_default_layout' | translate}}</a></li>
                            <li ng-if="userAuthority.canAdministerDashboard && lockedList && lockedList[selectedProgram.id]"><a href ng-click="toggleLockDashboard()"><i class="fa fa-unlock" aria-hidden="true"></i> {{'unlock_default_layout' | translate}}</a></li>
                        </ul>
                    </div>
                </div>
				 
				
				
            </div>
			<!--
			<button type="button"  id="myBtn" class="btn btn-default"  ng-click="eventmodel();">Medical History</button>
                    <button type="button" ng-show="selectedProgram.id=='jC8Gprj4pWV'" id="myBtnchart" class="btn btn-default"  ng-click="chartmodel();">HTN-Graph</button>
					<button type="button" ng-show="selectedProgram.id=='SUCUF657zNe'" id="myBtnchartdm" class="btn btn-default"  ng-click="chartmodeldm();">Hb-Graph</button>
					<button type="button" ng-show="selectedProgram.id=='jC8Gprj4pWV'" id="myBtnchartdmm" class="btn btn-default"  ng-click="chartmodeldmm();">DM-Graph</button>
                      <button type="button" ng-show="selectedProgram.id=='JdZ3gv6cx54'" id="myBtnchartdmm" class="btn btn-default"  ng-click="chartmodelchild();">Vaccination-Graph</button>    
				-->
        </div>
		
        <div class="row">
           
        </div>
        <div class="row">
		  
            <div height-change-target class="vertical-spacing" ng-show="topBarConfig.settings && topBarConfig.settings.active" style="margin-bottom:0px;"></div>
            <div ng-if="topBarConfig.settings && topBarConfig.settings.active" ng-include="'program-selector'" style="margin-left:12px;"></div>
                           
		   <!-- dashboard bigger widgets begin -->
            <div ng-class="widgetSize.bigger">
            
                <div id="biggerWidget" class="row connectedSortable empty-dashboard-container" d2-sortable
                     bigger-widgets={{dashboardWidgets | filter: {parent:
                'biggerWidget'}}} smaller-widgets={{ dashboardWidgets | filter: {parent: 'smallerWidget'}}}>
			<button type="button" ng-show="selectedProgram.id=='jC8Gprj4pWV' || selectedProgram.id=='JdZ3gv6cx54'|| selectedProgram.id=='Nb2EygU6dwp'"  id="myBtn" class="btn btn-default"  ng-click="eventmodel();">Medical History</button>
                    <button type="button" ng-show="selectedProgram.id=='jC8Gprj4pWV'" id="myBtnchart" class="btn btn-default"  ng-click="chartmodel();">HTN-Graph</button>
					<button type="button" ng-show="selectedProgram.id=='SUCUF657zNe'" id="myBtnchartdm" class="btn btn-default"  ng-click="chartmodeldm();">Hb-Graph</button>
					<button type="button" ng-show="selectedProgram.id=='jC8Gprj4pWV'" id="myBtnchartdmm" class="btn btn-default"  ng-click="chartmodeldmm();">DM-Graph</button>
                      <button type="button" ng-show="selectedProgram.id=='JdZ3gv6cx54'" id="myBtnchartdmm" class="btn btn-default"  ng-click="chartmodelchild();">Vaccination-Graph</button>    
                         <!-- Modal for medical history-->
                        <div class="modal fade" id="myModal" role="dialog">
                            <div class="modal-dialog">
                            
                                <!-- Modal content for medical history-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h2 class="modal-title"><h2><b>Medical History..</b></h2>
                                    </div>

                                    <div class="modal-body">
                                        <p><table id="table1" class="reporttt" style="width:100%"> </table></p>
                                    </div>
                                    
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
						
						<!--         modal for chart      --->
						    <div class="modal fade" id="myModalchart" role="dialog">
                            <div class="modal-dialog" style="width:800px">
                            
                                <!-- Modal content for chart-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h2 class="modal-title"><h2><b>Graph For HTN..</b></h2>
                                    </div>

                                    <div class="modal-body">
                                        <p><canvas id="myChart"></canvas></p>
                                    </div>
                                    
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
						<!--graph for Hb  -->
						<!--         modal for chart      --->
						    <div class="modal fade" id="myModalchartdm" role="dialog">
                            <div class="modal-dialog" style="width:800px">
                            
                                <!-- Modal content for chart-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h2 class="modal-title"><h2><b>Graph For Hb..</b></h2>
                                    </div>

                                    <div class="modal-body">
                                        <p><canvas id="myChartdm"></canvas></p>
                                    </div>
                                    
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
						
						<!--graph for child  -->
						<!--         modal for chart      --->
						    <div class="modal fade" id="myModalchartchild" role="dialog">
                            <div class="modal-dialog" style="width:800px">
                            
                                <!-- Modal content for chart-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h2 class="modal-title"><h2><b>Graph For Childhood Vaccination..</b></h2>
                                    </div>

                                    <div class="modal-body">
                                        <p><canvas id="myChartchild"></canvas></p>
                                    </div>
                                    
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
						<div class="modal fade" id="myModalchartdmm" role="dialog">
                            <div class="modal-dialog" style="width:800px">
                            
                                <!-- Modal content for chart-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h2 class="modal-title"><h2><b>Graph For DM..</b></h2>
                                    </div>

                                    <div class="modal-body">
                                        <p><canvas id="myChartdmm"></canvas></p>
                                    </div>
                                    
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                                
                            </div>
                        </div>
                <div class="col-sm-12 remove-one-pix" id={{biggerWidget.title}}
                     ng-repeat="biggerWidget in dashboardWidgets | orderBy:'order' | filter: {parent: 'biggerWidget'}">
                    <div ng-show="(!biggerWidget.useAsTopBar && biggerWidget.show && !temporaryHideWidgets[biggerWidget.title]) || temporaryShowWidgets[biggerWidget.title]"
                         ng-include="biggerWidget.view"
                         ng-class="{true: 'hideInPrint'} [biggerWidget.title != 'report']">
					</div>
					
                </div>
            </div>
			
        </div>
        <!-- dashboard bigger widgets end -->

        <!-- dashboard smaller widgets begin -->
        <div ng-class="[!model.stickyDisabled ? 'widgets-sticky' : '', widgetSize.smaller]">
            <div id="smallerWidget" class="row connectedSortable empty-dashboard-container" d2-sortable
                 bigger-widgets={{dashboardWidgets | filter: {parent:
            'biggerWidget'}}} smaller-widgets={{dashboardWidgets | filter: {parent: 'smallerWidget'}}}>
            <div class="col-sm-12 remove-one-pix" id={{smallerWidget.title}}
                 ng-repeat="smallerWidget in dashboardWidgets  | orderBy:'order' | filter: {parent: 'smallerWidget'}">
                <div ng-show="(!smallerWidget.useAsTopBar && smallerWidget.show && !temporaryHideWidgets[smallerWidget.title]) || temporaryShowWidgets[smallerWidget.title]"
                     ng-include="smallerWidget.view"
                     ng-class="{true: 'hideInPrint'} [smallerWidget.title != 'report']"></div>
            </div>
        </div>
        <!-- dashboard smaller widgets end -->


    </div>
    </div>
    </div>

    <!-- dashboard widgets end -->


    <div class="col-sm-12" ng-if="!metaDataCached">
        <img src="../images/ajax-loader-bar.gif" alt="{{'in_progress'| translate}}"/><br>
            {{'loading_metadata'| translate}}
    </div>

</div>

